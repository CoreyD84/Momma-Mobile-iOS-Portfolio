import SwiftUI

struct MessageNotificationListenerScreen: View {
    @EnvironmentObject var container: CodexiaContainer
    
    var body: some View {
        VStack(spacing: 20) {
            Text("Momma Mobile: MessageNotificationListener").font(.title).bold()
            Text("MessageNotificationListener")
            Text("com.airnettie.mobile.child.CRITICAL_THREAT")
            Text("com.enflick.android.TextNow")
            Text("com.enflick.android.textnow")
            Text("com.textnow.wrapper")
            Text("com.whatsapp")
            Text("com.facebook.orca")
            Text("com.instagram.android")
            Text("com.snapchat.android")
            Text("com.discord")
            Text("org.telegram.messenger")
            Text("com.twitter.android")
            Text("com.zhiliaoapp.musically")
            Text("com.google.android.apps.messaging")
            Text("com.samsung.android.messaging")
            Text("com.android.mms")
            Text("com.skype.raider")
            Text("com.viber.voip")
            Text("us.zoom.videomeetings")
            Text("com.kik.android")
            Text("com.imo.android.imoim")
            Text("jp.naver.line.android")
            Text("com.tencent.mm")
            Text("üì® Notification received from: $packageName")
            Text("‚è≠Ô∏è Skipping non-messaging app: $packageName")
            Text("‚úÖ Processing messaging app: $packageName")
            Text("Action")
            Text("Action")
            Text("Action")
            Text("Action")
            Text("‚è≠Ô∏è Skipping notification with insufficient text from $packageName")
            Text("üì¨ Notification from $packageName")
            Text("üì¨ Title: '$title'")
            Text("üì¨ Message: '$messageText'")
            Text("‚ùå Error processing notification from $packageName: ${e.message}")
            Text("üîç Scanning message: '$normalizedMessage'")
            Text("üö® Threats detected in notification from $sourceApp")
            Text("‚ö†Ô∏è ${detection.meta.category} [${detection.meta.severity}]: ${detection.match}")
            Text("üü¢ No threats detected in notification from $sourceApp")
            Text("nettie_prefs")
            Text("guardian_id")
            Text("child_id")
            Text("‚ùå Missing guardianId/childId ‚Äî cannot save detection")
            Text("feelscope/detections/$guardianId/$childId")
            Text("message")
            Text("category")
            Text("severity")
            Text("matchedPhrases")
            Text("source")
            Text("sourceApp")
            Text("timestamp")
            Text("isEscalated")
            Text("‚úÖ Detection saved to Firebase")
            Text("‚ùå Failed to save detection: ${e.message}")
            Text("‚ùå Error saving detection to Firebase: ${e.message}")
            Text("‚ùóÔ∏è CRITICAL threat detected but response is on cooldown")
            Text("üö® CRITICAL THREAT DETECTED: '${detection.match}' from $sourceApp")
            Text("üö® Initiating emergency response...")
            Text("category")
            Text("match")
            Text("sourceApp")
            Text("performHomeAction")
            Text("üì° Broadcast sent to FeelScopeService for emergency response")
            Text("‚úÖ Notification Listener connected")
            Text("‚ö†Ô∏è Notification Listener disconnected")
            Spacer()
        }.padding()
        .navigationTitle("MessageNotificationListener")
    }
}